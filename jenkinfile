pipeline {
    agent any

    tools {
       maven 'maven-3.8.5'
    }
	
	stages {
	     stage('Git clone') {
	      steps {
		git branch: 'J2EE', changelog: false, credentialsId: 'ec2-user', poll: false, url: 'https://github.com/harishvani/onlinebookstore.git'
	      }
		  }
	
	      stage('maven clean') {
	      steps {
		    sh 'mvn clean'
			
	      }
		  }
		  
		  stage('maven version') {
	      steps {
		    sh 'mvn --version'
			
	      }
		  }
	      stage('maven validate') {
	      steps { 
		    sh 'mvn validate'
			
	      }
		  }
	      stage('maven compile') {
	      steps { 
		   sh 'mvn compile'
		   
	      }
		  }
	      stage('maven Test') {
	      steps { 
		   sh 'mvn test'
	      }
		  }	     
	      stage('maven Package') {
	      steps {
		   sh 'mvn Package'
	      }
		  }
	      stage('maven deploy') {
	      steps {
		   sh 'mvn deploy'
	      }
		  }
	      
		
		
           
        }
    }

